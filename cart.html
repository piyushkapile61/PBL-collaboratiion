<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>Plactic</title>
  <link rel="icon" href="/favicon.ico" type=Images/icons/logo.png">
  <link rel="stylesheet" href="/Stylesheet/style.css" />
  <link rel="stylesheet" href="/Stylesheet/indexstyle.css" />
  <link rel="stylesheet" href="Stylesheet/nav.css">

  <style>
    .items-center {
      align-items: center;
    }

    .flex {
      display: flex;
    }

    ol,
    ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }

    .space-x-6>:not([hidden])~:not([hidden]) {
      --tw-space-x-reverse: 0;
      margin-right: calc(1.5rem * var(--tw-space-x-reverse));
      margin-left: calc(1.5rem * calc(1 - var(--tw-space-x-reverse)));
    }

    .flex-grow {
      flex-grow: 1;
    }
  </style>
</head>
<!--To Do-->
<!--1 Change allert after adding to cart-->
<!--2 update Order and contact form-->
<!--3-->
<header class="w-full bg-white shadow-md px-6 py-3 mb-8">
  <ul class="flex items-center space-x-6 nav-links">
    <img src="Images/icons/logo.png" alt="Snapdeal Logo" style="width: 45px;">
    <a style="font-size: 20px; font-weight: bold;" class="text-xl font-semibold text-gray-800 href=" #">SNAPDEAL</a>
    <li class="forward"><a href="home.html" class="text-gray-700 hover:text-yellow-600">HOME</a></li>
    <li class="forward"><a href="products.html" class="text-gray-700 hover:text-yellow-600">PRODUCTS</a></li>
    <li class="forward"><a href="cart.html" class="text-gray-700 hover:text-yellow-600">CART</a></li>
    <li class="forward"><a href="contact.html" class="text-gray-700 hover:text-yellow-600">CONTACT</a></li>
    <li class="flex-grow">
      <input type="text"
        class="w-full max-w-md px-4 py-2 rounded-md bg-blue-100 border border-gray-300 placeholder-gray-700 focus:outline-none focus:ring-2 focus:ring-yellow-400"
        style=" border-radius: 11px; height: 44px; border: 0.5px solid #b6a6a6; background: #fffbda3d; padding-left: 18px;"
        placeholder="Search products..." onkeyup="filterProducts()">
    </li>

    <a href="login.html" title="Login / Profile">
      <img src="Images/icons/proffilee/abcd.png" alt="Profile" class="w-8 h-8 rounded-full hover:scale-105 transition"
        style="width: 100%; height: 50px; background: #8c8c8c42; border-radius: 50%;">
    </a>

  </ul>
</header>

<body class="min-h-screen flex flex-col items-center justify-start pt-8">
  
  <main>
    <h2>Your Cart</h2>
    <form id="cartForm">
      <div id="cartItems" class="cart-grid"></div>
      <h3 id="totalPrice"></h3>
    </form>
  </main>
  <div class="confirm" style="display: flex; justify-content: center; align-items: center;"><button type="submit"
      onclick="buyNow()"> <a href="checkout.html" style="text-decoration: none;">Confirm Purchase</a> </button></div>
  <footer>
    <p>© 2025 Snapdeal. Smart Gadgets Redefined.</p>
  </footer>

  <script>
    function getCartItems() {
      return JSON.parse(localStorage.getItem("cart")) || [];
    }

    let cartItems = getCartItems();
    const container = document.getElementById("cartItems");
    let total = 0;

    function renderCart() {
      container.innerHTML = "";
      total = 0;

      if (cartItems.length === 0) {
        container.innerHTML = `
        <img src="images/icons/enpyt_cart.png" alt="Empty Cart" style="width:400px; height:auto;;">`;
        document.getElementById("totalPrice").textContent = "";
        return;
      }

      cartItems.forEach((item, index) => {
        const div = document.createElement("div");
        div.className = "cart-card001";
        div.innerHTML = `
      <input type="checkbox" name="selected" value="${index}"  />
      <div class="cart-card">
      <img src="${item.image}" alt="${item.name}" style="width:150px; border-radius:10px;" />
      <div class="cart-info">
        <h3>${item.name}</h3>
        <p>₹${item.price}</p>
        <button onclick="removeItem(${index})">Remove</button>
      </div>
      </div>
    `;
        container.appendChild(div);
        total += item.price;
      });

      document.getElementById("totalPrice").textContent = `Total: ₹${total}`;
    }

    function removeItem(index) {
      cartItems.splice(index, 1);
      localStorage.setItem("cart", JSON.stringify(cartItems));
      renderCart();
    }

    document.getElementById("cartForm").addEventListener("submit", function (e) {
      e.preventDefault();
      const selectedIndexes = Array.from(document.querySelectorAll('input[name="selected"]:checked'))
        .map(input => parseInt(input.value));

      const selectedItems = selectedIndexes.map(i => cartItems[i]);
      localStorage.setItem("checkoutItems", JSON.stringify(selectedItems));
      window.location.href = "checkout.html";
    });

    renderCart();

  </script>
</body>

</html>